import sys
import numpy as np

def estimate_price(mileage: float, theta: np.ndarray) -> float:
    """
    Estimate the price of a car given its mileage and parameters theta.
    
    Args:
        mileage (float): The mileage of the car.
        theta (ndarray): Parameters of shape (2,), where theta[0] is the bias term and theta[1] is the coefficient.
    
    Returns:
        float: The estimated price of the car.
    """
    return theta[0] + (theta[1] * mileage)

def predict_price(mileage: float, theta: np.ndarray) -> float:
    """
    Predict the price of a car given its mileage using the trained parameters theta.
    
    Args:
        mileage (float): The mileage of the car.
    
    Returns:
        float: The predicted price of the car.
    """
    predicted_price = estimate_price(mileage, theta)
    return predicted_price

def main():
    """
    Entry point of the program.
    """
    if len(sys.argv) != 4:
        print("Usage: python script.py mileage theta0 theta1")
        sys.exit(-1)
    
    try:
        theta = np.zeros(2)
        mileage = float(sys.argv[1]) # TODO: Need to prompt user for mileage. Get theta0 and theta1 from a json generated by training program or something.
        theta[0] = float(sys.argv[2])
        theta[1] = float(sys.argv[3]) # could be floats?
        print(predict_price(mileage, theta))
    except (Exception) as e:
        print(f"Error: {str(e)}")
        sys.exit(-1)

if __name__ == "__main__":
    main()
